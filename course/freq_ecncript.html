<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Шифр по частоте использования букв</title>
 </head>
<style>
    body { text-align:center}
    input {padding: 1px;border: 2px solid blue;color: black;text-align: center;font-size: 22px; }
    p {font-size: 16px; color:black; margin:20px 0 0}
    div {font-size: 30px;}
</style>
  <body>
  <h1>Шифр по частотности использования букв</h1>
<p>Вы ввели сообщение:</p>
<div id="in"></div>
 <p>Зашифрованное сообщение:</p>
<div id="out"></div>
<p>Дешифрованное сообщение:</p>
<div id="out_encode"></div>


 <script>
	var slovo_original = prompt('введите сообщение для шифрования, русскими буквами').toLowerCase();
	var sampleText = "Не так давно мы уже делали обобщенный анализ реальных масштабов военных возможностей Североатлантического альянса, однако после заявления Франсуа Олланда возникло желание рассмотреть военную машину НАТО подробнее. В конце концов, когда президент Франции говорит: «Я думаю, что это — последний шанс. Если мы не сможем прийти к долговременному мирному соглашению, мы прекрасно знаем дальнейший сценарий: у этого есть название, этот сценарий называется войной» — имеет смысл хотя бы на всякий случай еще раз перепроверить цифры. Вдруг в НАТО за это время что-то принципиально изменилось? Вообще тех, кто сейчас бряцает прикладами винтовок о булыжную мостовую, можно понять. Еще совсем недавно (двадцать лет назад) только одна Северная группа армий альянса (Northern Army Group, NORTHAG) со штабом в Рендалене (ФРГ) состояла из 4 армейских корпусов (британский, немецкий, бельгийский, голландский) в первой линии и имела еще два (французский и американский) в резерве. Зона ответственности NORTHAG простиралась от Геттингена (Германия) — Льежа (Бельгия) на юге до устья реки Эльбы и всей территории Нидерландов на севере. Более 200 тыс. штыков. Один лишь 1-й армейский корпус бундесвера насчитывал более 1200 танков и около 350 ПУ ПТУРС. Сила. Но это была не самая главная сила, так как самой главной являлась Центральная группа армий (Central Army Group, CENTAG) в составе двух американских и двух германских корпусов. А еще существовало Южное командование, включавшее в себя силы Испании, Италии, Греции и Турции, опиравшиеся на ударную мощь американского 6-го (Средиземноморского) флота. С 1952 года эта военная махина пополнялась, тренировалась, перевооружалась, опять тренировалась и снова перевооружалась для отражения возможного наступления СССР в Западную Европу. Впрочем, в штабах НАТО не исключали и возможности нанесения превентивного удара по Советскому Союзу, если для этого подвернутся подходящие условия. Генеральный штаб ВС СССР к такой перспективе относился более чем серьезно. Так что в европейской культуре вера в могущество НАТО складывалась десятилетиями, а после распада СССР вера в безмерность его могущества стала абсолютной. В особенности — после «победы» над Югославией. Раз — и нет страны, обладавшей одной из крупнейших армий в Центральной Европе. Словом, были славные времена. Только сейчас они прошли. Совсем. Как всегда это бывает после любой окончательной победы, армия начинает масштабно сокращаться. Ибо содержать современные вооруженные силы удовольствие не из дешевых. Раз СССР больше нет, то зачем на него тратиться? Именно так решили на саммитах Евросоюза в Кельне (июнь 1999 года) и в Хельсинки (декабрь того же года). Полагая, что дальше Европа справится сама, после 11 сентября 2001 года США начали вывод своих войск, частично домой, частично — их переброску в другие регионы. В частности, в Афганистан, где Америка начала большую охоту на Усаму бен Ладена. Позднее случился «первый» Ирак. За ним — «второй». И Вашингтону стало вовсе не до Европы. На первый взгляд, процесс имел веские основания. Население США на тот момент составляло 275 млн человек. Оно содержало и кормило армию численностью в 1,4 млн солдат и офицеров. В Европе насчитывалось 375 млн человек населения и 1,6 млн «штыков» в европейских армиях. Да и война в Югославии наглядно показала, что война будущего перестанет быть массовой, став преимущественно контрпартизанской. Для ее ведения такие огромные силы больше не нужны. А, значит, и тратиться на них незачем. Начался длительный период многочисленных военных реформ и структурных реорганизаций. В результате к настоящему моменту все ВС НАТО насчитывают 1,5 млн человек, из которых 990 тыс. составляют американские войска (из них лишь 30 тыс. солдат и офицеров размещены в Европе, остальные дислоцируются в США, причем многие их них задействованы в войнах, ведущихся Америкой на Ближнем Востоке). Т.е. собственно «европейцев» в составе сил альянса насчитывается лишь 600 тыс. Причем это количество включает в себя все национальные вооруженные силы стран-участниц, хотя под командование штабных структур альянса отдано менее трети. Таким образом, в реальности военный блок располагает лишь 200 тысячами солдат европейских армий. Кстати, тут становится понятна заносчивость, возникшая весной 2014 года у Киева, на бумаге «имевшего» 130 тыс. солдат и офицеров. Впрочем, по сравнению с бундесвером, общая численность которого к 2010 году сократилась до 201 тыс. человек, украинская военная машина тоже смотрелась солидно. Организационно все силы НАТО сегодня сведены в два стратегических командования: Стратегическое командование ОВС НАТО в Атлантике и Стратегическое командование ОВС НАТО в Европе. Первое в основном занимается войной на море, второе сосредоточено на ведении сухопутных боевых действий. СК НАТО в Европе состоит из двух частей, из ОВС НАТО в Северной Европе со штабом в Брюнссуме (Нидерланды) и ОВС НАТО в Южной Европе со штабом в Неаполе (Италия). Каждое из них, в свою очередь, делится на отдельные территориальные и видовые командования. Так, например, есть отдельный командующий объединенными ВВС НАТО «Север», есть такой же командующий объединенными ВМС «Север», и даже два командующих сухопутными (общевойсковыми) силами — ОВС НАТО «Север» и ОВС НАТО «Центр». Вообще сложная, перегруженная многочисленными штабами и объединенными командованиями структура управления является первым главным слабым местом альянса, значительно снижающим его реальную боевую эффективность. Американские военные специалисты считают, что из-за этого реальные возможности европейской части военного блока на сегодняшний день едва дотягивают до 10% от американских. Но самое интересное начинается с подсчетом реальных солдат, пушек и танков, имеющихся в распоряжении блока. Фактически выходит так, что НАТО существует только на бумаге. Если формально, то европейские страны альянса обязуются в срок до 90 суток сформировать аж девять корпусов быстрого развертывания. В том числе: объединенный армейский корпус; Еврокорпус, германо-голландский, испанский, итальянский, французский, турецкий, германо-датско-польский и греческий корпуса. Времена, когда 200 тыс. штыков Северной группы армий за 48 часов не только подымались по тревоге, но еще и занимали оборонительные позиции, совершив 450-километровый марш из района своей постоянной дислокации, давно прошли. Нынешнему НАТО только на развертывание частей до военных штатов требует три месяца. И то — это под большим вопросом. Учитывая нынешние события в Греции, на ее долю в 50 тыс. штыков Брюсселю вряд ли стоит рассчитывать. Как, впрочем, на турецкие войска тоже. Под большим вопросом участие Испании. Так что заявленные сроки в реальности наверняка будут сорваны. Тут важно учесть еще один нюанс, придуманный натовскими планировщиками. По «зеленому свистку» военные части формируются не абы как. За конкретные подразделения отвечают конкретные страны. Так, ответственной за формирование германо-датско-польского корпуса является Германия. Стало быть, не менее 60% его структуры, прежде всего тыла и штабного элемента, заполняются немецкими солдатами и офицерами. Насколько Польша реально согласится отдать под прямое германское командование свои национальные силы — большой вопрос. На бумаге-то как бы да, но в реальности различные польско-германские политические трения никуда не денутся. Что как минимум отразится на сроках создания части. Да и на исполнительской дисциплине, скорее всего, тоже. Представьте себе картину. Некий коварный агрессор вторгается в Польшу и громит ее армию, а польскому Генштабу надо взять наиболее боеспособную свою бригаду и отправить в Германию, в район формирования совместного корпуса. Да еще ждать, когда туда же прибудут датчане. Как вы думаете, насколько легко Варшава в реальности расстанется с остродефицитными своими резервами? Причем резервами еще и самого лучшего качества, так как силы, входящие в подчинение НАТО, обычно обучаются и комплектуются лучше всех остальных национальных формирований. С германо-голландским корпусом проблем возникает не меньше. Нидерланды свою часть сил, конечно, дадут. Между этими странами существует мало политических трений. Но вот технический уровень этих сил немцев не радует уже сейчас. С армиями стран Бенилюкса за последние 10 лет вообще возникла одна большая проблема. Их командования решили, что гусеничная техника больше не соответствует вызовам современности. Она дорогая, сложная в обслуживании и крайне неэкологичная в эксплуатации. Танки на марше портят дорожное покрытие и грунт. Да и вообще, стоимость одного их моточаса такова, что львиную долю времени танки возят на колесных траках. В общем, лишние ненужные расходы. Имеющиеся на вооружении танки пошли под списание и продажу за рубеж. К примеру, Бельгия 40 Leopard 1A5 из своих бронетанковых частей продала Ливану. Германия пытается блокировать подобные сделки, но особого успеха не имеет. Взамен танкам армии Бельгии и Нидерландов основным типом бронетехники закупают швейцарские бронетранспортеры MOWAG Piranha, устанавливая на них различные боевые модули. В целом получается неплохо. Крупнокалиберный пулемет плюс автоматическая 20- или 30-мм пушка против папуасов с автоматами — серьезный козырь. Но как замена основному боевому танку — полное ничто. Что больше всего возмущает немцев, так это убежденность бельгийцев и голландцев, что «если случится», то их прикроют немецкие танки. Те самые, которые бундесвер тоже оказывается вынужден сокращать ввиду сокращения национального военного бюджета. Но соседи бюджеты режут еще быстрее. Так, общая численность ВС Нидерландов уже сокращена до 47 тыс. человек. Всего! Включая офицеров Генерального штаба, отдельный медицинский корпус и всяких там кладовщиков с хлеборезами. Из кого они станут набирать свою часть совместного корпуса — остается загадкой. Насчет Еврокорпуса — отдельная история. Формально речь идет о старом, еще 1992 года, совместном франко-германском проекте создания многонационального объединения корпусного уровня. Изначально оно позиционировалось как прообраз новой армии Единой Европы, которая заменит НАТО. Но с заменой не выгорело, и Еврокорп спешным порядком стали встраивать в мобилизационные структуры альянса. На бумаге все выглядело красиво. Межнациональный Еврокопус в мирное время имеет штабной батальон, 53-й полк связи ВС Франции и франко-германскую мотопехотную бригаду. Т.е. в мирное время реально боевых частей во всем Еврокорпусе всего четыре батальона, из них два немецких и два французских, общим количеством от 900 до 1300 человек. Конечно, Еврокорпус каждый год проводит множество учений, к участию в которых привлекаются всякие прочие германские и французские танковые и механизированные дивизии. Но и тут есть нюанс. Не все дивизии целиком, а лишь отдельные подразделения. Максимум до батальона численностью. Что снова ставит ребром вопрос о степени реальной боеготовности всего корпуса.";
	var alf = ['а', 'б', 'в', 'г', 'д', 'е', 'ё', 'ж', 'з', 'и', 'й', 'к', 'л', 'м', 'н', 'о', 'п', 'р', 'с', 'т', 'у', 'ф', 'х', 'ц', 'ч', 'ш', 'щ', 'ъ', 'ы', 'ь', 'э', 'ю', 'я'];
	var sl_funct;
	slovo = slovo_original.split('');
	sampleText = sampleText.split('');

	function calc(wd, criptWd) {
		s = [];
		wd_n = [];
		wd_r = [];
		a = '';
		alf_mod = [];
		mass_ex = [];
		for (c = 0; c < alf.length; c++) {
			b = 0;
			for (i = 0; i < wd.length; i++) {
				if (wd[i] == alf[c]) {
					b++;
					s[c] = b;
				}
			}
			if (s[c] != undefined) {
				//   console.log('буква:\t' + alf[c] + ' Встречается\t' + s[c] + '\t раз');
				mass_ex.push([s[c], alf[c]]);
			} else {
				s[c] = 0;
				mass_ex.push([s[c], alf[c]]);
			}
		}
		s.sort(function(a, b) {
			return b - a;
		});
		/* Создание алфавита на основе частотности символов */
		for (c = 0; c < s.length; c++) {
			for (i = 0; i < mass_ex.length; i++) {
				if (s[c] == mass_ex[i][0]) {
					alf_mod[c] = mass_ex[i][1];
				}
			}
		}
		/* Закончили создание алфавита на основе частотности символов */
		console.log(alf);
		console.log(alf_mod);
		wd = slovo;
		// console.log('Слово без шифрования: '+slovo_original);
		for (c = 0; c < alf.length; c++) {
			for (i = 0; i < wd.length; i++) {
				if (wd[i] != ' ') {
					if (wd[i] == alf[c]) {
						wd_n[i] = alf_mod[c];
					}
				} else {
					wd_n[i] = ' ';
				}
			}
		}
		for (i = 0; i < wd_n.length; i++) {
			a = a + wd_n[i];
		}
		a_code = a;
		//console.log('Слово после шифрования: '+a);
		a = '';
		for (c = 0; c < alf_mod.length; c++) {
			for (i = 0; i < wd_n.length; i++) {
				if (wd_n[i] != ' ') {
					if (wd_n[i] == alf_mod[c]) {
						wd_r[i] = alf[c];
					}
				} else {
					wd_r[i] = ' ';
				}
			}
		}
		for (i = 0; i < wd_r.length; i++) {
			a = a + wd_r[i];
		}
		console.log('Слово после дешифрования: ' + a);
	}
	calc(sampleText, false);
	var elem_encode = document.getElementById('out');
	elem_encode.innerHTML = a_code;
	var elem_encode = document.getElementById('in');
	elem_encode.innerHTML = slovo_original;
	var elem_encode = document.getElementById('out_encode');
	elem_encode.innerHTML = a;
</script>
</body></html>